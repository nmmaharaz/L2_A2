
# PostgreSQL-ржП Primary Key ржПржмржВ Foreign Key ржзрж╛рж░ржгрж╛ржЧрзБрж▓рж┐ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рзЛ
## ЁЯФС Primary Key
### Primary Key рж╣рж▓рзЛ ржПржХржЯрж┐ ржХрж▓рж╛ржо ржмрж╛  ржжрзБржЗ ржмрж╛ рждрждрзЛржзрж┐ржХ ржХрж▓рж╛ржоржЧрзБрж▓рзЛрж░ рж╕ржорж╖рзНржЯрж┐ред

### ЁЯУМ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп (Primary key ржПрж░ ржжрзБржЗржЯрж╛ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп):
             * primary key ржпрзЗ ржХрж▓рж╛ржорзЗ ржерж╛ржХржмрзЗ ржУржЗ ржХрж▓рж╛ржорзЗ must ржбрж╛ржЯрж╛ ржПржирзНржЯрж┐ ржХрж░рждрзЗ рж╣ржмрзЗред (value ржХржЦржирзЛ NULL рж╣рждрзЗ ржкрж╛рж░рзЗ ржирж╛)
             * ржпрзЗ ржХрж▓рж╛ржорзЗ primary key ржерж╛ржХржмрзЗ рж╕рзЗ ржХрж▓рж╛ржорзЗрж░ ржбрж╛ржЯрж╛ always ржЗржЙржирж┐ржХ ржерж╛ржХрждрзЗ рж╣ржмрзЗред 

### Primary key ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржирж┐рзЯржо:-

```ts
CREATE TABLE students (
  student_id SERIAL PRIMARY KEY,
  name VARCHAR(100),
  mark INT
);
```

## ЁЯФС Foreign Key
### Foreign Key рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржХрж▓рж╛ржо ржпрж╛ ржЕржирзНржп ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key ржПрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХ (relationship) рждрзИрж░рж┐ ржХрж░рзЗред ржПржЯрж┐ ржжрзБржЗржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржоржзрзНржпрзЗ рж╕ржВржпрзЛржЧ рж╕рзНржерж╛ржкржи ржХрж░рзЗред

### ЁЯУМ ржмрзИрж╢рж┐рж╖рзНржЯрзНржп:
    * ржПржЯрж┐ ржорзВрж▓ржд рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржХрж░рзЗ ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key ржХрзЗред
    * ржПржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ ржпрзЗ ржпрзЗржЗ ржорж╛ржиржЯрж┐ Foreign Key-рждрзЗ рж░рж╛ржЦрж╛ рж╣ржпрж╝рзЗржЫрзЗ, рж╕рзЗржЯрж╛ ржЕржмрж╢рзНржпржЗ ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗ ржЖржЧрзЗ ржерзЗржХрзЗржЗ ржмрж┐ржжрзНржпржорж╛ржи ржерж╛ржХрждрзЗ рж╣ржмрзЗ (Referential Integrity)ред


### Foreign key ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржирж┐рзЯржо:-
```ts
CREATE TABLE courses (
  course_id SERIAL PRIMARY KEY,
  course_name VARCHAR(100),
  student_id INT,
  FOREIGN KEY (student_id) REFERENCES students(student_id)
);
```
</br>

#  ЁЯЖЪ VARCHAR ржПржмржВ CHAR ржПрж░ ржоржзрзНржпрзЗ ржкрж╛рж░рзНржержХрзНржп (ржмрж╛ржВрж▓рж╛ржпрж╝ ржмрзНржпрж╛ржЦрзНржпрж╛)

### VARCHAR ржЖрж░ CHAR тАФ ржжрзБржЯрзЛржЗ string рж╕ржВрж░ржХрзНрж╖ржгрзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣рзЯред

### ЁЯФд CHAR (Fixed Length Character)
- ржПржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржжрзИрж░рзНржШрзНржпрзЗрж░ (fixed length) ржбрзЗржЯрж╛ рж░рж╛ржЦрзЗред
- ржзрж░рзЛ рждрзБржорж┐ CHAR(10) ржжрж┐рж▓рзЗ, рждрж╛рж╣рж▓рзЗ рждрзБржорж┐ ржпржд ржХржо ржЕржХрзНрж╖рж░ржЗ ржжрж╛ржУ ржирж╛ ржХрзЗржи, рж╕рзЗржЯрж╛ рззрзж ржЕржХрзНрж╖рж░рзЗрж░ ржЬрж╛рзЯржЧрж╛ ржирж┐ржмрзЗред ржмрж╛ржХрж┐ ржЬрж╛рзЯржЧрж╛ ржлрж╛ржБржХрж╛ ржерж╛ржХрж▓рзЗ рждрж╛ space ржжрж┐рзЯрзЗ ржкрзВрж░ржг рж╣ржмрзЗред

```ts
CREATE TABLE student (
  name CHAR(10)
);
```

### ЁЯФб VARCHAR (Variable Length Character)
- ржПржЯрж┐ ржкрж░рж┐ржмрж░рзНрждржирж╢рзАрж▓ ржжрзИрж░рзНржШрзНржпрзЗрж░ (variable length) ржбрзЗржЯрж╛ рж░рж╛ржЦрзЗред

- ржзрж░рзЛ рждрзБржорж┐ VARCHAR(10) ржжрж┐рж▓рзЗ, рждрж╛рж╣рж▓рзЗ рждрзБржорж┐ ржпржд ржЕржХрзНрж╖рж░ ржжрж╛ржУ, рждрждржЯрзБржХрзБ ржЬрж╛рзЯржЧрж╛ржЗ ржирж┐ржмрзЗред ржПрждрзЗ ржХрзЛржирзЛ ржЕрждрж┐рж░рж┐ржХрзНржд рж╕рзНржкрзЗрж╕ ржирж╖рзНржЯ рж╣рзЯ ржирж╛ред

```ts
CREATE TABLE student (
  name VARCHAR(10)
);
```

# ЁЯУМLIMIT ржПржмржВ OFFSET ржзрж╛рж░рж╛ржЧрзБрж▓рж┐ ржХрзАрж╕рзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝?

## Limit ржПрж░ ржорж╛ржзрзНржпржорзЗ ржЖржорж░рж╛ ржПржХрж╛ржзрж┐ржХ ржбрж╛ржЯрж╛ ржерзЗржХрзЗ ржЖржорж╛ржжрзЗрж░ ржкрзНрж░рзЯрзЛржЬржи ржЕржирзБржпрж╛рзЯрж┐ ржбрж╛ржЯрж╛ ржирж┐рждрзЗ ржкрж╛рж░ржмрзЛ ржХрж┐ржирзНрждрзВ limit ржХрж╛ржЬ ржХрж░рж╛рж░ рж╕ржорзЯ ржЙржкрж░ ржерзЗржХрзЗ ржХрж╛ржЬ ржХрж░рзЗред 
## Example
ржЖржорж╛рж░ ржХрж╛ржЬ ржорзЛржЯ рззрзжрзж ржЯрж╛ ржбрж╛ржЯрж╛ ржЖржЫрзЗ ржЖржорж┐ ржпржжрж┐ рззрзж ржбрж╛ржЯрж╛ ржирж┐рждрзЗ ржЪрж╛ржЗ рждрж╛ржЗрж▓рзЗ limit ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЛред ржПржЗржХрзНрж╖рзЗрждрзНрж░рзЗ рзз-рззрзж ржкржпржирзНржд ржбрж╛ржЯрж╛ ржжрзЗржЦрж╛ржмрзЗред
```ts
SELECT * FROM students
LIMIT 10;
```
## Offset ржПрж░ ржорж╛ржзрзНржпржорзЗ ржЖржорж░рж╛ ржПржХрж╛ржзрж┐ржХ ржбрж╛ржЯрж╛ ржерзЗржХрзЗ ржкрзНрж░ржержо ржХрж┐ржЫрзБ ржбрж╛ржЯрж╛ ржмрж╛ржж ржирж┐рждрзЗ ржЕржирзНржп ржбрж╛ржЯрж╛ ржЧрзБрж▓рзЛ ржирж┐рждрзЗ ржкрж╛рж░рж┐  
## Example
ржЖржорж╛рж░ ржХрж╛ржЬ ржорзЛржЯ рззрзжрзж ржЯрж╛ ржбрж╛ржЯрж╛ ржЖржЫрзЗ ржЖржорж┐ ржпржжрж┐ рззрзж-рзирзж ржкржпржирзНржд ржбрж╛ржЯрж╛ ржирж┐рждрзЗ ржЪрж╛ржЗ рждрж╛ржЗрж▓рзЗ Offset ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЛред ржПржЗржХрзНрж╖рзЗрждрзНрж░рзЗ рзирзж-рзйрзж ржкржпржирзНржд ржбрж╛ржЯрж╛ ржкрж╛ржмрзЛред
```ts
SELECT * FROM students
OFFSET 10;
```
# ЁЯФДUPDATE рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржХрзАржнрж╛ржмрзЗ ржбрзЗржЯрж╛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржи?
### UPDATE рж╕рзНржЯрзЗржЯржорзЗржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржорж░рж╛ ржЯрзЗржмрж┐рж▓рзЗрж░ ржмрж┐ржжрзНржпржорж╛ржи ржбрзЗржЯрж╛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржкрж╛рж░рж┐ред ржПржЯрж┐ рж╕рж╛ржзрж╛рж░ржгржд рждржЦржи ржмрзНржпржмрж╣рзГржд рж╣рзЯ ржпржЦржи ржХрзЛржирзЛ рж░рзЗржХрж░рзНржбрзЗрж░ рждржерзНржп ржЖржкржбрзЗржЯ ржХрж░рждрзЗ рж╣рзЯред
### тЬЕ рж╕рж╛ржзрж╛рж░ржг ржЧржаржи (Syntax):
```ts
UPDATE table_name
SET column1 = value1,
    column2 = value2
WHERE condition;
```
- table_name: ржпрзЗржЗ ржЯрзЗржмрж┐рж▓рзЗ ржкрж░рж┐ржмрж░рзНрждржи ржЖржирждрзЗ ржЪрж╛ржЗ
- SET: ржХрзЛржи ржХрж▓рж╛ржорзЗ ржХрзА ржорж╛ржи ржмрж╕ржмрзЗ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ

# ЁЯФ╣GROUP BY ржПрж░ ржХрж╛ржЬ ржХрзА?
### GROUP BY рж╣рж▓ SQL-ржПрж░ ржПржХржЯрж┐ ржХрзНрж▓ржЬ ржпрж╛ ржПржХржЗ ржзрж░ржирзЗрж░ ржбрзЗржЯрж╛ржЧрзБрж▓рзЛржХрзЗ ржЧрзНрж░рзБржк ржХрж░рзЗ ржПржмржВ рждрж╛ржжрзЗрж░ ржЙржкрж░ aggregation (ржпрзЛржЧржлрж▓, ржЧрзЬ, рж╕рж░рзНржмрзЛржЪрзНржЪ ржЗрждрзНржпрж╛ржжрж┐) ржЕржкрж╛рж░рзЗрж╢ржи ржЪрж╛рж▓рж╛рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржпрзЗржоржи:

- SUM() тЖТ ржпрзЛржЧржлрж▓

- AVG() тЖТ ржЧрзЬ

- COUNT() тЖТ ржЧржгржирж╛

- MAX() тЖТ рж╕рж░рзНржмрзЛржЪрзНржЪ ржорж╛ржи

- MIN() тЖТ рж╕рж░рзНржмржирж┐ржорзНржи ржорж╛ржи

### тЬЕExample
```ts
SELECT department, COUNT(*) AS total_students
FROM students
GROUP BY department;
```





